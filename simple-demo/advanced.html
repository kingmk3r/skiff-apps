<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Skiff Productivity Suite - Advanced Demo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background: #0c0c0c;
            color: white;
            height: 100vh;
            overflow: hidden;
        }
        
        .app-switcher {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
            display: flex;
            gap: 8px;
            background: rgba(26, 26, 26, 0.95);
            backdrop-filter: blur(10px);
            padding: 8px;
            border-radius: 12px;
            border: 1px solid #333;
        }
        
        .app-switcher-btn {
            padding: 8px 12px;
            background: transparent;
            border: none;
            color: #888;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.2s;
            font-family: inherit;
            font-size: 14px;
            font-weight: 500;
        }
        
        .app-switcher-btn:hover {
            background: #2a2a2a;
            color: #e5e5e5;
        }
        
        .app-switcher-btn.active {
            background: #6366f1;
            color: white;
        }
        
        .app-container {
            height: 100vh;
            width: 100vw;
            display: none;
        }
        
        .app-container.active {
            display: flex;
        }
        
        /* Mail App Styles */
        .mail-app {
            display: flex;
            height: 100vh;
        }
        
        .sidebar {
            width: 240px;
            background: #1a1a1a;
            border-right: 1px solid #333;
            display: flex;
            flex-direction: column;
        }
        
        .logo {
            padding: 20px;
            font-size: 24px;
            font-weight: 600;
            border-bottom: 1px solid #333;
            color: #6366f1;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .compose-btn {
            margin: 20px;
            background: #6366f1;
            color: white;
            border: none;
            padding: 12px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            font-family: inherit;
            font-size: 14px;
            transition: all 0.2s;
        }
        
        .compose-btn:hover {
            background: #5855e6;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
        }
        
        .nav {
            flex: 1;
            padding: 0;
        }
        
        .nav-section {
            margin-bottom: 24px;
        }
        
        .nav-section-title {
            padding: 8px 20px;
            font-size: 11px;
            font-weight: 560;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .nav-item {
            padding: 10px 20px;
            cursor: pointer;
            transition: background 0.2s;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 14px;
            font-weight: 380;
            position: relative;
        }
        
        .nav-item:hover {
            background: #2a2a2a;
        }
        
        .nav-item.active {
            background: rgba(99, 102, 241, 0.15);
            color: #6366f1;
        }
        
        .nav-item.active::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 3px;
            background: #6366f1;
        }
        
        .badge {
            background: #6366f1;
            color: white;
            font-size: 11px;
            padding: 2px 6px;
            border-radius: 10px;
            margin-left: auto;
            font-weight: 470;
        }
        
        .main {
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        .header {
            height: 60px;
            background: #1a1a1a;
            border-bottom: 1px solid #333;
            display: flex;
            align-items: center;
            padding: 0 20px;
            gap: 20px;
        }
        
        .search {
            flex: 1;
            max-width: 400px;
            padding: 10px 16px;
            background: #2a2a2a;
            border: 1px solid #444;
            border-radius: 8px;
            color: white;
            outline: none;
            font-family: inherit;
            font-size: 14px;
            transition: all 0.2s;
        }
        
        .search:focus {
            border-color: #6366f1;
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }
        
        .search::placeholder {
            color: #888;
        }
        
        .encryption-status {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-left: auto;
            padding: 6px 12px;
            background: rgba(16, 185, 129, 0.1);
            border: 1px solid rgba(16, 185, 129, 0.3);
            border-radius: 6px;
            font-size: 12px;
            font-weight: 470;
            color: #10b981;
        }
        
        .content {
            flex: 1;
            display: flex;
        }
        
        .email-list {
            width: 400px;
            background: #0c0c0c;
            border-right: 1px solid #333;
            overflow-y: auto;
        }
        
        .email-item {
            padding: 16px;
            border-bottom: 1px solid #333;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
        }
        
        .email-item:hover {
            background: #1a1a1a;
        }
        
        .email-item.unread {
            background: #0f0f14;
        }
        
        .email-item.selected {
            background: rgba(99, 102, 241, 0.1);
            border-right: 3px solid #6366f1;
        }
        
        .email-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 4px;
        }
        
        .email-from {
            font-weight: 470;
            font-size: 14px;
            color: #e5e5e5;
        }
        
        .email-time {
            font-size: 11px;
            color: #666;
        }
        
        .email-subject {
            font-size: 14px;
            margin-bottom: 4px;
            color: #e5e5e5;
            font-weight: 380;
        }
        
        .email-preview {
            font-size: 12px;
            color: #888;
            line-height: 1.4;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .unread-dot {
            width: 6px;
            height: 6px;
            background: #6366f1;
            border-radius: 50%;
            margin-right: 8px;
            flex-shrink: 0;
        }
        
        .encryption-badge {
            background: #10b981;
            color: white;
            font-size: 9px;
            padding: 2px 4px;
            border-radius: 4px;
            margin-left: 8px;
            font-weight: 560;
        }
        
        .email-view {
            flex: 1;
            background: #0c0c0c;
            display: flex;
            flex-direction: column;
        }
        
        .email-detail {
            padding: 40px;
            max-width: 800px;
            margin: 0 auto;
            width: 100%;
        }
        
        .email-detail-header {
            border-bottom: 1px solid #333;
            padding-bottom: 20px;
            margin-bottom: 20px;
        }
        
        .email-detail-subject {
            font-size: 24px;
            font-weight: 470;
            color: #e5e5e5;
            margin-bottom: 12px;
        }
        
        .email-detail-meta {
            display: flex;
            align-items: center;
            gap: 16px;
            font-size: 14px;
            color: #888;
        }
        
        .email-detail-content {
            line-height: 1.6;
            color: #e5e5e5;
            font-size: 15px;
        }
        
        .email-detail-content p {
            margin-bottom: 16px;
        }
        
        .empty-state {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: #666;
            padding: 40px;
        }
        
        .empty-state h3 {
            margin-bottom: 8px;
            color: #999;
            font-weight: 470;
            font-size: 18px;
        }
        
        .empty-state p {
            font-size: 14px;
            line-height: 1.5;
        }
        
        /* Calendar App Styles */
        .calendar-app {
            display: flex;
            flex-direction: column;
            height: 100vh;
        }
        
        .calendar-header {
            height: 80px;
            background: #1a1a1a;
            border-bottom: 1px solid #333;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 40px;
        }
        
        .calendar-title {
            font-size: 28px;
            font-weight: 470;
            color: #e5e5e5;
        }
        
        .calendar-nav {
            display: flex;
            gap: 12px;
        }
        
        .calendar-nav-btn {
            padding: 8px 16px;
            background: #2a2a2a;
            border: 1px solid #444;
            color: #e5e5e5;
            border-radius: 6px;
            cursor: pointer;
            font-family: inherit;
            font-size: 14px;
            transition: all 0.2s;
        }
        
        .calendar-nav-btn:hover {
            background: #3a3a3a;
            border-color: #555;
        }
        
        .calendar-nav-btn.active {
            background: #6366f1;
            border-color: #6366f1;
        }
        
        .calendar-main {
            flex: 1;
            display: flex;
        }
        
        .calendar-sidebar {
            width: 280px;
            background: #1a1a1a;
            border-right: 1px solid #333;
            padding: 20px;
        }
        
        .calendar-content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }
        
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 1px;
            background: #333;
            border-radius: 8px;
            overflow: hidden;
        }
        
        .calendar-day {
            background: #0c0c0c;
            aspect-ratio: 1;
            padding: 12px;
            display: flex;
            flex-direction: column;
            gap: 4px;
            min-height: 120px;
        }
        
        .calendar-day-number {
            font-weight: 470;
            font-size: 14px;
            color: #e5e5e5;
        }
        
        .calendar-event {
            background: rgba(99, 102, 241, 0.2);
            border: 1px solid #6366f1;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 11px;
            color: #e5e5e5;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .calendar-event:hover {
            background: rgba(99, 102, 241, 0.3);
        }
        
        /* Pages App Styles */
        .pages-app {
            display: flex;
            height: 100vh;
        }
        
        .pages-sidebar {
            width: 260px;
            background: #1a1a1a;
            border-right: 1px solid #333;
            display: flex;
            flex-direction: column;
        }
        
        .pages-main {
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        .pages-header {
            height: 60px;
            background: #1a1a1a;
            border-bottom: 1px solid #333;
            display: flex;
            align-items: center;
            padding: 0 20px;
            gap: 16px;
        }
        
        .pages-content {
            flex: 1;
            background: #0c0c0c;
            padding: 40px;
            overflow-y: auto;
        }
        
        .document {
            max-width: 800px;
            margin: 0 auto;
            background: #1a1a1a;
            border-radius: 8px;
            padding: 40px;
            box-shadow: 0 4px 24px rgba(0, 0, 0, 0.3);
        }
        
        .document h1 {
            font-size: 32px;
            font-weight: 470;
            color: #e5e5e5;
            margin-bottom: 24px;
        }
        
        .document p {
            font-size: 16px;
            line-height: 1.7;
            color: #d1d1d1;
            margin-bottom: 16px;
        }
        
        .scrollbar-style {
            scrollbar-width: thin;
            scrollbar-color: #444 transparent;
        }
        
        .scrollbar-style::-webkit-scrollbar {
            width: 8px;
        }
        
        .scrollbar-style::-webkit-scrollbar-track {
            background: transparent;
        }
        
        .scrollbar-style::-webkit-scrollbar-thumb {
            background: #444;
            border-radius: 4px;
        }
        
        .scrollbar-style::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
        
        /* Mobile Responsive Design */
        @media (max-width: 768px) {
            .app-switcher {
                position: fixed;
                top: 10px;
                left: 10px;
                right: 10px;
                z-index: 1000;
                justify-content: center;
                padding: 6px;
                border-radius: 8px;
            }
            
            .app-switcher-btn {
                padding: 6px 10px;
                font-size: 12px;
            }
            
            .app-container {
                padding-top: 60px;
            }
            
            .mail-app {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                height: auto;
                border-right: none;
                border-bottom: 1px solid #333;
                overflow-x: auto;
            }
            
            .nav {
                display: flex;
                flex-direction: row;
                overflow-x: auto;
                padding: 10px;
                gap: 8px;
            }
            
            .nav-item {
                white-space: nowrap;
                min-width: max-content;
                padding: 8px 12px;
                border-radius: 6px;
                font-size: 13px;
            }
            
            .compose-btn {
                margin: 10px;
                padding: 10px 14px;
                font-size: 13px;
            }
            
            .content {
                flex-direction: column;
                height: calc(100vh - 180px);
            }
            
            .email-list {
                width: 100%;
                height: 50%;
                border-right: none;
                border-bottom: 1px solid #333;
            }
            
            .email-view {
                height: 50%;
            }
            
            .header {
                padding: 0 15px;
                height: 50px;
            }
            
            .search {
                max-width: none;
                flex: 1;
                margin-right: 10px;
            }
            
            .encryption-status {
                display: none;
            }
            
            .logo {
                padding: 15px;
                font-size: 18px;
                text-align: center;
            }
            
            /* Calendar Mobile */
            .calendar-header {
                flex-direction: column;
                height: auto;
                padding: 15px 20px;
                gap: 15px;
            }
            
            .calendar-title {
                font-size: 22px;
                text-align: center;
            }
            
            .calendar-nav {
                justify-content: center;
                flex-wrap: wrap;
                gap: 8px;
            }
            
            .calendar-nav-btn {
                padding: 6px 12px;
                font-size: 13px;
            }
            
            .calendar-main {
                flex-direction: column;
            }
            
            .calendar-sidebar {
                width: 100%;
                padding: 15px;
                border-right: none;
                border-bottom: 1px solid #333;
            }
            
            .calendar-grid {
                grid-template-columns: repeat(7, 1fr);
                gap: 1px;
            }
            
            .calendar-day {
                min-height: 80px;
                padding: 8px;
            }
            
            .calendar-event {
                font-size: 10px;
                padding: 2px 4px;
            }
            
            /* Pages Mobile */
            .pages-app {
                flex-direction: column;
            }
            
            .pages-sidebar {
                width: 100%;
                height: auto;
                border-right: none;
                border-bottom: 1px solid #333;
                overflow-x: auto;
            }
            
            .pages-content {
                padding: 20px 15px;
            }
            
            .document {
                padding: 20px;
                margin: 0;
            }
            
            .document h1 {
                font-size: 26px;
            }
            
            .document p {
                font-size: 15px;
            }
        }
        
        /* Tablet Responsive Design */
        @media (max-width: 1024px) and (min-width: 769px) {
            .sidebar {
                width: 200px;
            }
            
            .email-list {
                width: 320px;
            }
            
            .nav-item {
                padding: 8px 15px;
                font-size: 13px;
            }
            
            .logo {
                padding: 15px;
                font-size: 20px;
            }
            
            .calendar-sidebar {
                width: 240px;
            }
            
            .pages-sidebar {
                width: 220px;
            }
        }
        
        /* Small Mobile */
        @media (max-width: 480px) {
            .app-switcher {
                top: 5px;
                left: 5px;
                right: 5px;
                padding: 4px;
            }
            
            .app-switcher-btn {
                padding: 4px 8px;
                font-size: 11px;
            }
            
            .sidebar {
                padding: 0;
            }
            
            .logo {
                padding: 10px;
                font-size: 16px;
            }
            
            .nav {
                padding: 8px;
                gap: 6px;
            }
            
            .nav-item {
                padding: 6px 10px;
                font-size: 12px;
            }
            
            .badge {
                font-size: 10px;
                padding: 1px 4px;
            }
            
            .email-item {
                padding: 12px;
            }
            
            .email-from, .email-subject {
                font-size: 13px;
            }
            
            .email-preview {
                font-size: 11px;
                -webkit-line-clamp: 1;
            }
            
            .header, .pages-header {
                height: 45px;
                padding: 0 10px;
            }
            
            .search {
                padding: 6px 12px;
                font-size: 13px;
            }
            
            .compose-btn {
                margin: 8px;
                padding: 8px 12px;
                font-size: 12px;
            }
            
            .calendar-title {
                font-size: 18px;
            }
            
            .calendar-day {
                min-height: 60px;
                padding: 4px;
            }
            
            .calendar-day-number {
                font-size: 12px;
            }
            
            .calendar-event {
                font-size: 9px;
                padding: 1px 3px;
            }
            
            .document {
                padding: 15px;
            }
            
            .document h1 {
                font-size: 22px;
            }
            
            .document p {
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <div class="app-switcher">
        <button class="app-switcher-btn active" onclick="switchApp('mail')">📧 Mail</button>
        <button class="app-switcher-btn" onclick="switchApp('calendar')">📅 Calendar</button>
        <button class="app-switcher-btn" onclick="switchApp('pages')">📝 Pages</button>
    </div>

    <!-- Mail App -->
    <div id="mail-app" class="app-container active">
        <div class="mail-app">
            <div class="sidebar scrollbar-style">
                <div class="logo">
                    🔒 Skiff Mail
                </div>
                
                <button class="compose-btn" onclick="composeEmail()">
                    ✏️ Compose
                </button>
                
                <nav class="nav scrollbar-style">
                    <div class="nav-section">
                        <div class="nav-item active">
                            <span>📧</span> Inbox <span class="badge">2</span>
                        </div>
                        <div class="nav-item">
                            <span>📤</span> Sent
                        </div>
                        <div class="nav-item">
                            <span>📝</span> Drafts <span class="badge">3</span>
                        </div>
                        <div class="nav-item">
                            <span>🗂️</span> Archive
                        </div>
                        <div class="nav-item">
                            <span>🗑️</span> Trash
                        </div>
                        <div class="nav-item">
                            <span>⚠️</span> Spam
                        </div>
                    </div>
                    
                    <div class="nav-section">
                        <div class="nav-section-title">Labels</div>
                        <div class="nav-item">
                            <span>🏷️</span> Work
                        </div>
                        <div class="nav-item">
                            <span>🏷️</span> Personal
                        </div>
                        <div class="nav-item">
                            <span>🏷️</span> Finance
                        </div>
                    </div>
                </nav>
            </div>
            
            <div class="main">
                <div class="header">
                    <input type="text" class="search" placeholder="Search encrypted emails...">
                    <div class="encryption-status">
                        🔐 End-to-end encrypted
                    </div>
                </div>
                
                <div class="content">
                    <div class="email-list scrollbar-style">
                        <div class="email-item unread" data-email="1">
                            <div class="email-meta">
                                <div style="display: flex; align-items: center;">
                                    <div class="unread-dot"></div>
                                    <span class="email-from">Sarah Johnson</span>
                                    <span class="encryption-badge">E2E</span>
                                </div>
                                <span class="email-time">2:30 PM</span>
                            </div>
                            <div class="email-subject">Re: Project update and next steps</div>
                            <div class="email-preview">Thanks for the update! I think we should schedule a meeting to discuss the timeline. The encryption is working perfectly and our data remains secure...</div>
                        </div>
                        
                        <div class="email-item unread" data-email="2">
                            <div class="email-meta">
                                <div style="display: flex; align-items: center;">
                                    <div class="unread-dot"></div>
                                    <span class="email-from">GitHub Notifications</span>
                                    <span class="encryption-badge">E2E</span>
                                </div>
                                <span class="email-time">1:15 PM</span>
                            </div>
                            <div class="email-subject">[skiff-org/skiff-mail] New pull request</div>
                            <div class="email-preview">A new pull request has been opened for review. The changes include improvements to the encryption system and user interface enhancements...</div>
                        </div>
                        
                        <div class="email-item" data-email="3">
                            <div class="email-meta">
                                <div style="display: flex; align-items: center;">
                                    <span class="email-from">Team Skiff</span>
                                    <span class="encryption-badge">E2E</span>
                                </div>
                                <span class="email-time">11:45 AM</span>
                            </div>
                            <div class="email-subject">Welcome to Skiff Mail! 🎉</div>
                            <div class="email-preview">Your private, encrypted email account is ready. All your communications are protected with military-grade end-to-end encryption...</div>
                        </div>
                        
                        <div class="email-item" data-email="4">
                            <div class="email-meta">
                                <div style="display: flex; align-items: center;">
                                    <span class="email-from">Security Alert</span>
                                    <span class="encryption-badge">E2E</span>
                                </div>
                                <span class="email-time">10:30 AM</span>
                            </div>
                            <div class="email-subject">New device login detected</div>
                            <div class="email-preview">We detected a login from a new device. If this was you, no action is needed. All data remains encrypted with your private keys...</div>
                        </div>
                        
                        <div class="email-item" data-email="5">
                            <div class="email-meta">
                                <div style="display: flex; align-items: center;">
                                    <span class="email-from">Alex Chen</span>
                                    <span class="encryption-badge">E2E</span>
                                </div>
                                <span class="email-time">Yesterday</span>
                            </div>
                            <div class="email-subject">Quarterly report attached</div>
                            <div class="email-preview">Please find the encrypted quarterly report attached. All financial data is protected with zero-knowledge encryption protocols...</div>
                        </div>
                    </div>
                    
                    <div class="email-view">
                        <div class="empty-state">
                            <h3>🔒 Select an encrypted email</h3>
                            <p>Choose an email from the list to view its encrypted content.</p>
                            <p style="margin-top: 16px; font-size: 12px;">
                                All emails are protected with end-to-end encryption.<br>
                                Only you can read your messages.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Calendar App -->
    <div id="calendar-app" class="app-container">
        <div class="calendar-app">
            <div class="calendar-header">
                <div class="calendar-title">📅 Skiff Calendar - December 2024</div>
                <div class="calendar-nav">
                    <button class="calendar-nav-btn">← Previous</button>
                    <button class="calendar-nav-btn active">Month</button>
                    <button class="calendar-nav-btn">Week</button>
                    <button class="calendar-nav-btn">Day</button>
                    <button class="calendar-nav-btn">Next →</button>
                </div>
            </div>
            <div class="calendar-main">
                <div class="calendar-sidebar scrollbar-style">
                    <h3 style="margin-bottom: 16px; color: #e5e5e5; font-weight: 470;">My Calendars</h3>
                    <div class="nav-item">
                        <span>📅</span> Personal
                    </div>
                    <div class="nav-item">
                        <span>💼</span> Work
                    </div>
                    <div class="nav-item">
                        <span>🎯</span> Goals
                    </div>
                    <div style="margin-top: 24px;">
                        <button class="compose-btn" style="margin: 0; width: 100%;">
                            + New Event
                        </button>
                    </div>
                    <div style="margin-top: 24px; padding-top: 20px; border-top: 1px solid #333;">
                        <div class="encryption-status" style="margin: 0; padding: 8px; font-size: 11px;">
                            🔐 All events encrypted
                        </div>
                    </div>
                </div>
                <div class="calendar-content scrollbar-style">
                    <div class="calendar-grid">
                        <div class="calendar-day">
                            <div class="calendar-day-number">1</div>
                        </div>
                        <div class="calendar-day">
                            <div class="calendar-day-number">2</div>
                            <div class="calendar-event">Team Meeting</div>
                        </div>
                        <div class="calendar-day">
                            <div class="calendar-day-number">3</div>
                        </div>
                        <div class="calendar-day">
                            <div class="calendar-day-number">4</div>
                            <div class="calendar-event">Project Review</div>
                        </div>
                        <div class="calendar-day">
                            <div class="calendar-day-number">5</div>
                        </div>
                        <div class="calendar-day">
                            <div class="calendar-day-number">6</div>
                        </div>
                        <div class="calendar-day">
                            <div class="calendar-day-number">7</div>
                        </div>
                        <div class="calendar-day">
                            <div class="calendar-day-number">8</div>
                        </div>
                        <div class="calendar-day">
                            <div class="calendar-day-number">9</div>
                            <div class="calendar-event">Doctor Appointment</div>
                        </div>
                        <div class="calendar-day">
                            <div class="calendar-day-number">10</div>
                        </div>
                        <div class="calendar-day">
                            <div class="calendar-day-number">11</div>
                        </div>
                        <div class="calendar-day">
                            <div class="calendar-day-number">12</div>
                            <div class="calendar-event">Client Call</div>
                        </div>
                        <div class="calendar-day">
                            <div class="calendar-day-number">13</div>
                            <div class="calendar-event">Friday the 13th</div>
                        </div>
                        <div class="calendar-day">
                            <div class="calendar-day-number">14</div>
                        </div>
                        <div class="calendar-day">
                            <div class="calendar-day-number">15</div>
                        </div>
                        <div class="calendar-day">
                            <div class="calendar-day-number">16</div>
                            <div class="calendar-event">Quarterly Review</div>
                        </div>
                        <div class="calendar-day">
                            <div class="calendar-day-number">17</div>
                        </div>
                        <div class="calendar-day">
                            <div class="calendar-day-number">18</div>
                        </div>
                        <div class="calendar-day">
                            <div class="calendar-day-number">19</div>
                        </div>
                        <div class="calendar-day">
                            <div class="calendar-day-number">20</div>
                        </div>
                        <div class="calendar-day">
                            <div class="calendar-day-number">21</div>
                        </div>
                        <div class="calendar-day">
                            <div class="calendar-day-number">22</div>
                        </div>
                        <div class="calendar-day">
                            <div class="calendar-day-number">23</div>
                        </div>
                        <div class="calendar-day">
                            <div class="calendar-day-number">24</div>
                            <div class="calendar-event">Christmas Eve</div>
                        </div>
                        <div class="calendar-day">
                            <div class="calendar-day-number">25</div>
                            <div class="calendar-event">Christmas Day</div>
                        </div>
                        <div class="calendar-day">
                            <div class="calendar-day-number">26</div>
                        </div>
                        <div class="calendar-day">
                            <div class="calendar-day-number">27</div>
                        </div>
                        <div class="calendar-day">
                            <div class="calendar-day-number">28</div>
                        </div>
                        <div class="calendar-day">
                            <div class="calendar-day-number">29</div>
                        </div>
                        <div class="calendar-day">
                            <div class="calendar-day-number">30</div>
                        </div>
                        <div class="calendar-day">
                            <div class="calendar-day-number">31</div>
                            <div class="calendar-event">New Year's Eve</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Pages App -->
    <div id="pages-app" class="app-container">
        <div class="pages-app">
            <div class="pages-sidebar scrollbar-style">
                <div class="logo">📝 Skiff Pages</div>
                <button class="compose-btn" onclick="newDocument()">+ New Document</button>
                <nav class="nav scrollbar-style">
                    <div class="nav-section">
                        <div class="nav-section-title">Recent</div>
                        <div class="nav-item active">
                            <span>📄</span> Privacy Whitepaper
                        </div>
                        <div class="nav-item">
                            <span>📄</span> Meeting Notes
                        </div>
                        <div class="nav-item">
                            <span>📄</span> Project Plan
                        </div>
                    </div>
                    <div class="nav-section">
                        <div class="nav-section-title">Folders</div>
                        <div class="nav-item">
                            <span>📁</span> Work Documents
                        </div>
                        <div class="nav-item">
                            <span>📁</span> Personal
                        </div>
                        <div class="nav-item">
                            <span>📁</span> Archive
                        </div>
                    </div>
                </nav>
            </div>
            <div class="pages-main">
                <div class="pages-header">
                    <input type="text" class="search" placeholder="Search documents..." style="max-width: 300px;">
                    <div class="encryption-status">
                        🔐 End-to-end encrypted
                    </div>
                </div>
                <div class="pages-content scrollbar-style">
                    <div class="document">
                        <h1>Skiff Privacy Whitepaper</h1>
                        <p><strong>Executive Summary:</strong> Skiff represents a new paradigm in digital privacy, offering end-to-end encrypted communication and collaboration tools that ensure user data remains completely private.</p>
                        
                        <p>In an era where digital privacy is increasingly under threat, Skiff provides a comprehensive suite of tools designed with privacy-first principles. Our platform encompasses encrypted email, calendar, document editing, and file storage - all protected by military-grade encryption.</p>
                        
                        <p><strong>Core Technologies:</strong></p>
                        <p>• <strong>ChaCha20-Poly1305 Encryption:</strong> State-of-the-art authenticated encryption</p>
                        <p>• <strong>Zero-Knowledge Architecture:</strong> Server cannot access user data</p>
                        <p>• <strong>Client-Side Encryption:</strong> All encryption occurs on user devices</p>
                        <p>• <strong>Forward Secrecy:</strong> Past communications remain secure even if keys are compromised</p>
                        
                        <p><strong>Privacy Guarantees:</strong></p>
                        <p>Skiff employs a zero-knowledge encryption model where user data is encrypted locally before transmission. This means that even Skiff's servers cannot decrypt or access user content. The architecture ensures that users maintain complete control over their data while benefiting from seamless collaboration features.</p>
                        
                        <p>This document itself is encrypted end-to-end and stored securely in your private Skiff workspace. Only you have the ability to decrypt and read this content.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Email data with more detailed content
        const emails = {
            1: {
                from: "Sarah Johnson",
                subject: "Re: Project update and next steps",
                content: `Hi there,

Thanks for the comprehensive update on the project status! I'm really impressed with the progress the team has made over the past sprint.

I think we should schedule a face-to-face meeting next week to discuss the timeline in more detail. The encryption implementation is working perfectly, and I'm confident that our user data remains completely secure throughout the entire process.

A few key points I'd like to cover in our meeting:
• Final testing procedures for the encryption layer
• User experience improvements for the dashboard
• Timeline for the beta release
• Marketing strategy alignment

Let me know what times work best for you. I'm available Tuesday through Thursday afternoons.

Best regards,
Sarah Johnson
Senior Product Manager

---
🔒 This message is secured with ChaCha20-Poly1305 encryption`
            },
            2: {
                from: "GitHub Notifications",
                subject: "[skiff-org/skiff-mail] New pull request",
                content: `A new pull request has been opened for review in the skiff-mail repository.

PR #847: Improve encryption key management and UI performance
Author: @alex-dev
Reviewers: @sarah-pm, @mike-security

Changes include:
- Enhanced key derivation functions for better security
- Optimized React component rendering for faster load times
- Added comprehensive unit tests for all new features
- Improved error handling for edge cases
- Updated documentation for the new features

The changes have been thoroughly tested and all CI checks are passing. Please review at your earliest convenience.

You can view the full pull request at: https://github.com/skiff-org/skiff-mail/pull/847

---
🔒 This notification is secured with end-to-end encryption`
            },
            3: {
                from: "Team Skiff",
                subject: "Welcome to Skiff Mail! 🎉",
                content: `Welcome to Skiff Mail!

Your private, encrypted email account is now ready to use. We're excited to have you join our community of privacy-conscious users who value secure communication.

Here's what makes Skiff Mail different:

🔐 End-to-End Encryption: All your emails are encrypted before they leave your device
🔒 Zero-Knowledge: We can't read your emails even if we wanted to
🛡️ Military-Grade Security: ChaCha20-Poly1305 encryption protects your data
🚀 Fast & Reliable: Enjoy seamless performance without compromising security

Getting Started:
1. Compose your first encrypted email using the blue Compose button
2. Organize emails with custom labels and folders
3. Use our powerful search to find anything instantly
4. Enable two-factor authentication for extra security
5. Invite friends and colleagues to experience private communication

Privacy Features:
• Your encryption keys never leave your device
• All metadata is encrypted and protected
• No tracking or advertising - your privacy is our business
• Open source and regularly audited by security experts

If you have any questions, our support team is here to help. Just reply to this email and we'll get back to you shortly.

Welcome to the future of private communication!

The Skiff Team

---
🔒 Your privacy is our priority. This welcome message is also encrypted.`
            },
            4: {
                from: "Security Alert",
                subject: "New device login detected",
                content: `Security Alert: New Device Login

We detected a login to your Skiff account from a new device:

Device: Chrome on macOS
Location: San Francisco, CA
Time: December 13, 2024 at 10:30 AM PST
IP Address: 192.168.1.100 (masked for privacy)

If this was you:
No action is needed. All your data remains encrypted and secure.

If this wasn't you:
1. Change your password immediately
2. Enable two-factor authentication
3. Review your account activity
4. Contact our security team

Security Features Active:
🔒 All data remains encrypted with your private keys
🛡️ Zero-knowledge architecture protects your information
🔐 End-to-end encryption for all communications
📱 Two-factor authentication recommended

Your account security is our top priority. Even in the unlikely event of unauthorized access, your encrypted data cannot be read without your private keys, which only exist on your trusted devices.

Stay secure,
Skiff Security Team

---
🔒 This security alert is encrypted end-to-end`
            },
            5: {
                from: "Alex Chen",
                subject: "Quarterly report attached",
                content: `Hi there,

Please find the encrypted quarterly report attached to this email. I've included all the financial data and performance metrics we discussed in our last meeting.

Key highlights from Q4:
• Revenue growth of 45% year-over-year
• User acquisition exceeded targets by 23%
• Customer satisfaction scores reached all-time high of 4.8/5
• Security incidents: 0 (thanks to our encryption!)

The report covers:
1. Financial performance and projections
2. User growth and engagement metrics
3. Security and privacy compliance updates
4. Competitive analysis and market position
5. Strategic recommendations for Q1

All financial data in this report is protected with zero-knowledge encryption protocols. The attached files are encrypted locally before transmission and can only be decrypted with your private keys.

Please review the report and let me know if you have any questions. I'm available for a call this week to discuss the findings in detail.

Best regards,
Alex Chen
Financial Analyst

P.S. The encryption performance metrics in section 3 are particularly impressive - our users' data has never been more secure!

---
🔒 This message and all attachments are secured with military-grade encryption`
            }
        };

        // Wait for DOM to load
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Advanced demo loading...');
            
            // App switching functionality
            window.switchApp = function(appName) {
                console.log('Switching to app:', appName);
                
                // Hide all apps
                document.querySelectorAll('.app-container').forEach(container => {
                    container.classList.remove('active');
                });
                
                // Remove active class from all buttons
                document.querySelectorAll('.app-switcher-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                
                // Show selected app
                const targetApp = document.getElementById(appName + '-app');
                if (targetApp) {
                    targetApp.classList.add('active');
                }
                
                // Set active button
                event.target.classList.add('active');
            };

            // Email functionality
            const emailItems = document.querySelectorAll('.email-item');
            emailItems.forEach((item, index) => {
                item.addEventListener('click', function() {
                    const emailId = this.dataset.email;
                    console.log('Clicked email:', emailId);
                    
                    if (!emailId || !emails[emailId]) {
                        console.error('Email data not found for ID:', emailId);
                        return;
                    }
                    
                    // Remove selection from all items
                    emailItems.forEach(i => i.classList.remove('selected'));
                    // Add selection to clicked item
                    this.classList.add('selected');
                    
                    const email = emails[emailId];
                    const emailView = document.querySelector('.email-view');
                    
                    if (emailView) {
                        emailView.innerHTML = `
                            <div class="email-detail">
                                <div class="email-detail-header">
                                    <h2 class="email-detail-subject">${email.subject}</h2>
                                    <div class="email-detail-meta">
                                        <span>From: <strong style="color: #e5e5e5;">${email.from}</strong></span>
                                        <span class="encryption-badge">🔐 End-to-End Encrypted</span>
                                        <span>Just now</span>
                                    </div>
                                </div>
                                <div class="email-detail-content">
                                    ${email.content.split('\n').map(line => {
                                        line = line.trim();
                                        if (!line) return '<br>';
                                        if (line.startsWith('•')) return `<p style="margin-left: 20px;">${line}</p>`;
                                        if (line.match(/^\d+\./)) return `<p style="margin-left: 20px;">${line}</p>`;
                                        return `<p>${line}</p>`;
                                    }).join('')}
                                </div>
                            </div>
                        `;
                    }
                    
                    // Remove unread status
                    this.classList.remove('unread');
                    const unreadDot = this.querySelector('.unread-dot');
                    if (unreadDot) {
                        unreadDot.remove();
                    }
                    
                    // Update badge count
                    const badge = document.querySelector('#mail-app .nav-item.active .badge');
                    if (badge) {
                        const count = parseInt(badge.textContent) - 1;
                        if (count > 0) {
                            badge.textContent = count;
                        } else {
                            badge.style.display = 'none';
                        }
                    }
                });
            });

            // Search functionality
            document.querySelectorAll('.search').forEach(search => {
                search.addEventListener('input', function(e) {
                    const query = e.target.value.toLowerCase();
                    if (this.closest('#mail-app')) {
                        emailItems.forEach(item => {
                            const text = item.textContent.toLowerCase();
                            item.style.display = text.includes(query) ? 'block' : 'none';
                        });
                    }
                });
            });

            // Compose functionality
            window.composeEmail = function() {
                alert('🔒 Compose New Email\\n\\nFeatures:\\n• End-to-end encryption enabled by default\\n• Rich text editor with full formatting\\n• Secure attachment handling\\n• Scheduled sending options\\n• Email templates and signatures\\n• Contact integration\\n• Draft auto-save');
            };

            // Calendar functionality
            document.querySelectorAll('.calendar-event').forEach(event => {
                event.addEventListener('click', function() {
                    const eventTitle = this.textContent;
                    alert(`📅 Calendar Event: ${eventTitle}\\n\\n🔒 This event is end-to-end encrypted\\n\\nFeatures:\\n• Encrypted event details\\n• Secure participant list\\n• Private location information\\n• Encrypted attachments\\n• Meeting notes protection\\n\\nOnly invited participants can see event details.`);
                });
            });

            // Pages functionality
            window.newDocument = function() {
                alert('📝 Create New Document\\n\\n🔒 Skiff Pages Features:\\n• Real-time collaborative editing\\n• End-to-end encryption for all content\\n• Version history and document recovery\\n• Rich text formatting and media support\\n• Secure sharing with access controls\\n• Comment and suggestion system\\n• Export to multiple formats\\n• Offline editing capabilities');
            };

            // Create different email sets for each folder
            const folderEmails = {
                'Inbox': [
                    { id: '1', from: 'Sarah Johnson', subject: 'Re: Project update and next steps', preview: 'Thanks for the update! I think we should schedule a meeting to discuss the timeline. The encryption is working perfectly and our data remains secure...', unread: true },
                    { id: '2', from: 'GitHub Notifications', subject: '[skiff-org/skiff-mail] New pull request', preview: 'A new pull request has been opened for review. The changes include improvements to the encryption system and user interface enhancements...', unread: true },
                    { id: '3', from: 'Team Skiff', subject: 'Welcome to Skiff Mail! 🎉', preview: 'Your private, encrypted email account is ready. All your communications are protected with military-grade end-to-end encryption...', unread: false },
                    { id: '4', from: 'Security Alert', subject: 'New device login detected', preview: 'We detected a login from a new device. If this was you, no action is needed. All data remains encrypted with your private keys...', unread: false },
                    { id: '5', from: 'Alex Chen', subject: 'Quarterly report attached', preview: 'Please find the encrypted quarterly report attached. All financial data is protected with zero-knowledge encryption protocols...', unread: false }
                ],
                'Sent': [
                    { id: 's1', from: 'You', subject: 'Re: Weekly team sync', preview: 'Thanks for organizing the sync! The agenda looks comprehensive. I\'ll prepare the encryption metrics report and share it securely through Skiff...', unread: false },
                    { id: 's2', from: 'You', subject: 'Vacation request - December', preview: 'Hi team, I\'d like to request time off from December 20-30. All my projects will be up to date before I leave, and handover docs will be encrypted...', unread: false },
                    { id: 's3', from: 'You', subject: 'Re: Privacy policy updates', preview: 'The new privacy policy looks excellent. The zero-knowledge guarantees are clearly explained for users, and the encryption standards are well documented...', unread: false }
                ],
                'Drafts': [
                    { id: 'd1', from: 'Draft', subject: 'Q4 Performance Review (Draft)', preview: 'This quarter has been exceptional for our privacy initiatives. Key achievements include implementing ChaCha20-Poly1305 encryption across all services...', unread: false },
                    { id: 'd2', from: 'Draft', subject: 'Feature request: Enhanced search', preview: 'I\'d like to propose some improvements to our encrypted search functionality. The current system works well, but we could add semantic search capabilities...', unread: false },
                    { id: 'd3', from: 'Draft', subject: 'Birthday party invitation', preview: 'You\'re invited to celebrate my birthday next Saturday! Even our party invitations are encrypted 🎉 Location and details are protected with E2E encryption...', unread: false }
                ]
            };

            // Function to render emails for a specific folder
            function renderEmailsForFolder(folderName) {
                const emailList = document.querySelector('#mail-app .email-list');
                const emailView = document.querySelector('#mail-app .email-view');
                
                if (!emailList) return;
                
                const emailsForFolder = folderEmails[folderName] || [];
                
                if (emailsForFolder.length === 0) {
                    // Show empty state for folders without demo emails
                    emailList.innerHTML = `
                        <div style="padding: 40px; text-align: center; color: #666;">
                            <h3 style="margin-bottom: 12px; color: #999;">📁 ${folderName}</h3>
                            <p>This folder is empty or not implemented in the demo.</p>
                            <p style="margin-top: 12px; font-size: 12px;">Click "Inbox" to see demo emails.</p>
                        </div>
                    `;
                } else {
                    // Render emails for this folder
                    emailList.innerHTML = emailsForFolder.map((email, index) => `
                        <div class="email-item ${email.unread ? 'unread' : ''}" data-email="${email.id}" data-folder="${folderName}">
                            <div class="email-meta">
                                <div style="display: flex; align-items: center;">
                                    ${email.unread ? '<div class="unread-dot"></div>' : ''}
                                    <span class="email-from">${email.from}</span>
                                    <span class="encryption-badge">E2E</span>
                                </div>
                                <span class="email-time">2:30 PM</span>
                            </div>
                            <div class="email-subject">${email.subject}</div>
                            <div class="email-preview">${email.preview}</div>
                        </div>
                    `).join('');
                    
                    // Re-attach click events to new email items
                    attachEmailClickEvents();
                }
                
                // Reset email view
                if (emailView) {
                    emailView.innerHTML = `
                        <div class="empty-state">
                            <h3>🔒 Select an encrypted email</h3>
                            <p>Choose an email from the ${folderName} list to view its encrypted content.</p>
                            <p style="margin-top: 16px; font-size: 12px;">
                                All emails are protected with end-to-end encryption.<br>
                                Only you can read your messages.
                            </p>
                        </div>
                    `;
                }
            }

            // Function to attach click events to email items
            function attachEmailClickEvents() {
                const emailItems = document.querySelectorAll('#mail-app .email-item');
                emailItems.forEach((item, index) => {
                    item.addEventListener('click', function() {
                        const emailId = this.dataset.email;
                        const folder = this.dataset.folder;
                        console.log('Clicked email:', emailId, 'in folder:', folder);
                        
                        // Remove selection from all items
                        emailItems.forEach(i => i.classList.remove('selected'));
                        // Add selection to clicked item
                        this.classList.add('selected');
                        
                        // Get email content from either the emails object or generate it
                        let email;
                        if (emails[emailId]) {
                            // Use existing detailed email content
                            email = emails[emailId];
                        } else {
                            // Generate content for Sent/Drafts
                            const fromElement = this.querySelector('.email-from');
                            const subjectElement = this.querySelector('.email-subject');
                            const previewElement = this.querySelector('.email-preview');
                            
                            if (!fromElement || !subjectElement || !previewElement) {
                                console.error('Could not find email elements');
                                return;
                            }
                            
                            const from = fromElement.textContent.trim();
                            const subject = subjectElement.textContent.trim();
                            const preview = previewElement.textContent.trim();
                            
                            // Generate different content based on folder
                            let fullContent = preview;
                            if (folder === 'Sent') {
                                fullContent = `${preview}

This email was sent from your encrypted Skiff Mail account. The recipient received a fully encrypted message that only they can decrypt and read.

Key features of sent emails:
• End-to-end encryption protects content in transit
• Sent items are stored locally in encrypted format
• Messages sync securely across your devices
• No third parties can access your sent messages

Your privacy is maintained throughout the entire email lifecycle.

Best regards,
Your Name

---
🔒 This sent message is secured with ChaCha20-Poly1305 encryption`;
                            } else if (folder === 'Drafts') {
                                fullContent = `${preview}

[This is a draft message - not yet sent]

You can continue editing this draft and send it when ready. All drafts are stored locally in encrypted format for your privacy.

Draft features:
• Automatic encryption of draft content
• Local storage with device-level protection
• Secure sync across your authenticated devices
• No server-side access to draft content

Draft saved automatically with end-to-end encryption.

---
🔒 This draft is secured with ChaCha20-Poly1305 encryption`;
                            }
                            
                            email = {
                                from: from,
                                subject: subject,
                                content: fullContent
                            };
                        }
                        
                        const emailView = document.querySelector('#mail-app .email-view');
                        
                        if (emailView) {
                            emailView.innerHTML = `
                                <div class="email-detail">
                                    <div class="email-detail-header">
                                        <h2 class="email-detail-subject">${email.subject}</h2>
                                        <div class="email-detail-meta">
                                            <span>${folder === 'Sent' ? 'To' : folder === 'Drafts' ? 'Draft by' : 'From'}: <strong style="color: #e5e5e5;">${email.from}</strong></span>
                                            <span class="encryption-badge">🔐 End-to-End Encrypted</span>
                                            <span>Just now</span>
                                        </div>
                                    </div>
                                    <div class="email-detail-content">
                                        ${email.content.split('\n').map(line => {
                                            line = line.trim();
                                            if (!line) return '<br>';
                                            if (line.startsWith('•')) return `<p style="margin-left: 20px;">${line}</p>`;
                                            if (line.match(/^\d+\./)) return `<p style="margin-left: 20px;">${line}</p>`;
                                            return `<p>${line}</p>`;
                                        }).join('')}
                                    </div>
                                </div>
                            `;
                        }
                        
                        // Remove unread status
                        this.classList.remove('unread');
                        const unreadDot = this.querySelector('.unread-dot');
                        if (unreadDot) {
                            unreadDot.remove();
                        }
                        
                        // Update badge count for inbox only
                        if (folder === 'Inbox') {
                            const badge = document.querySelector('#mail-app .nav-item.active .badge');
                            if (badge) {
                                const count = parseInt(badge.textContent) - 1;
                                if (count > 0) {
                                    badge.textContent = count;
                                } else {
                                    badge.style.display = 'none';
                                }
                            }
                        }
                    });
                });
            }

            // Navigation items in mail app
            const mailNavItems = document.querySelectorAll('#mail-app .nav-item');
            mailNavItems.forEach(item => {
                item.addEventListener('click', function() {
                    mailNavItems.forEach(i => i.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Get folder name from the nav item text and icon
                    const fullText = this.textContent.trim();
                    const folderName = fullText.includes('📧') ? 'Inbox' :
                                     fullText.includes('📤') ? 'Sent' :
                                     fullText.includes('📝') ? 'Drafts' :
                                     fullText.includes('🗂️') ? 'Archive' :
                                     fullText.includes('🗑️') ? 'Trash' :
                                     fullText.includes('⚠️') ? 'Spam' :
                                     fullText.split(' ')[1] || fullText.split(' ')[0];
                    
                    console.log('Switching to folder:', folderName);
                    renderEmailsForFolder(folderName);
                });
            });

            // Initialize with Inbox
            renderEmailsForFolder('Inbox');
            
            console.log('Advanced demo setup complete!');
        });
    </script>
</body>
</html>